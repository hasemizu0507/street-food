{% extends "base.html" %}
{% load mathfilters %}

{% block title %}マイページ{% endblock title %}

{% block content %}
    <h4 class="mt-4 border-bottom">マイページ</h4>

    <h5>基本情報</h5>
    <p><b>{{ user.username }}</b> さん</p>
    <p>年齢: {{ user.profile.age }}歳</p>
    <p>性別: {{ user.profile.get_gender_display }}</p>
    <p>都道府県: {{ user.profile.pref_name }}</p>
    <p>市区: {{ user.profile.city_name }}</p>
    <p>町村: {{ user.profile.district_name }}</p>
    <p></p>
    <p>ユーザー名またはパスワードの編集は <a href="/accounts">こちら</a>(未実装)</p>

    <!-- 
    <hr>
    <h5>所有商品</h5>

    <table class="table table-striped table-bordered">
    <thead>
        <tr>
        <th scope="col">商品ID</th>
        <th scope="col">詳細</th>
        <th scope="col">価格</th>
        </tr>
    </thead>
    <tbody>
        {% for food in foods %}
        <tr>
        <th scope="row">
            {{ food.id }}
        </th>
        <td>
            <a href="{% url 'streetfood:food_detail' food_id=food.id %}">
                {{ food }}
            </a>
        </td>
        <td>{{ food.price }}</td>
        </tr>
        {% endfor %}
    </tbody>
    </table>
    


    <h5>追加待ちの所有物件</h5>

    <table class="table table-striped table-bordered">
        <thead>
            <tr>
            <th scope="col">商品ID</th>
            <th scope="col">詳細</th>
            <th scope="col">査定価格</th>
            </tr>
        </thead>
        <tbody>
            {% for assess in assessments %}
            <tr>
            <th scope="row">
                {{ assess.id }}
            </th>
            <td>
                <a href="{% url 'streetfood:assess_detail' assessment_id=assess.id %}">
                    {{ assess }}
                </a>
            </td>
            <td>
                {{ assess.price }}
            </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    -->
    <h5>カート</h5>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
            <th scope="col">商品ID</th>
            <th scope="col">時刻</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
            <th scope="row">
                {{ product.product_id }}
            </th>
            <th scope="row">
                {{ product.timestamp }}
            </th>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}